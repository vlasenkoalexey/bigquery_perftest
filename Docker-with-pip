FROM ubuntu:cosmic

# Installs necessary dependencies.
RUN apt-get update && apt-get install -y --no-install-recommends \
	 python-pip \
         python-dev libgomp1 && \
     rm -rf /var/lib/apt/lists/*

RUN pip install setuptools requests wheel
RUN pip install google-cloud-bigquery-storage
RUN pip install tensorflow
COPY . /root/models/
WORKDIR /root/models

ENV PYTHONPATH "${PYTHONPATH}:/root/models/"
ENV PYTHONIOENCODING=utf-8
ENV PYTHONUNBUFFERED=TRUE

# ENV TF_CPP_VMODULE=gcs_file_system=2
# ENV TF_CPP_MIN_VLOG_LEVEL=1

# ENTRYPOINT ["python", "/root/models/bq_perftest.py", "--project_id=alekseyv-scalableai-dev"]
